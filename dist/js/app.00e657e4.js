(function(){"use strict";var t={4514:function(t,e,i){var a=i(6369),s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},n=[],r=i(1001),o={},c=(0,r.Z)(o,s,n,!1,null,null,null),l=c.exports,m=i(2631),d=function(){var t=this,e=t._self._c;return e("div",[t._m(0),e("ui-button",{attrs:{design:"primary",label:"Fazer login com a Huggy"},on:{click:t.redirectToExternalLogin}})],1)},u=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-area"},[e("div",{staticClass:"login-container"},[e("div",{staticClass:"login-container-text"},[e("div",{staticClass:"login"},[t._v("Área de Login")]),e("div",{staticClass:"login-text"},[t._v("Faça login para acessar nosso super-aplicativo")])])])])}],g=function(){var t=this,e=t._self._c;return e("button",{staticClass:"button",class:t.design,attrs:{disabled:t.disabled},on:{click:t.handleClick}},[t._v(" "+t._s(t.label)+" ")])},M=[],h={name:"ui-button",props:{label:{type:String,default:""},disabled:{type:Boolean,required:!1,default:!1},design:{type:String,required:!1,default:"primary"}},methods:{handleClick(){this.$emit("click")}}},p=h,N=(0,r.Z)(p,g,M,!1,null,"4e78c85b",null),I=N.exports,v={name:"login-view",components:{uiButton:I},methods:{redirectToExternalLogin(){const t="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImUyMjA4ZGZhNjg5NTliODdmYmYzYTE1YTU2NzVjNzQ1ZDkzNzdhNjY2MTZhNTE3MWU3MGFmNzBiMGEzZGQxODc1MzUzZmVhMzNjOGNjODBjIn0.eyJhdWQiOiJBUFAtOWM5ZjgzYmMtNWY3My00OThmLTk3YzMtMzZkMTQ5MmQ4NGVmIiwianRpIjoiZTIyMDhkZmE2ODk1OWI4N2ZiZjNhMTVhNTY3NWM3NDVkOTM3N2E2NjYxNmE1MTcxZTcwYWY3MGIwYTNkZDE4NzUzNTNmZWEzM2M4Y2M4MGMiLCJpYXQiOjE2OTg1MDQwMDcsIm5iZiI6MTY5ODUwNDAwNywiZXhwIjoxNzE0MzE1MjA3LCJzdWIiOiIxMzQ0ODkiLCJzY29wZXMiOlsiaW5zdGFsbF9hcHAiLCJyZWFkX2FnZW50X3Byb2ZpbGUiXX0.USCxOcyd2x1mPLNXBLqKqzMKjX-kLTXFImQDrjhGume1grIKqDqtWLO8uFdUToGDx2FMdU3mGweIIcz_8WBwOgH9cB8jO1twxlINp9s5Ak_6sIiG10cA1pohxlIUf9X5CR1uI5CCh2R9oy1m2yU_VkVwFkxBM1e6XO-Xf1t_3mE",e=`https://www.huggy.app/?access_token=${t}&return=http://localhost:8080/atendimento`;window.location.href=e}}},O=v,z=(0,r.Z)(O,d,u,!1,null,"7739adfb",null),f=z.exports,Z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"body-container"},[e("div",{staticClass:"body-container-header"},[t._m(0),e("div",{staticClass:"container-image"},[e("div",{staticClass:"container-image-header"},[e("img",{staticClass:"container-image-property",attrs:{src:t.imageAvatar}}),e("div",{staticClass:"container-text"},[t._m(1),e("div",{staticClass:"container-message"},[t.firstAgentMessage?["image"===t.firstAgentMessage.type?e("img",{staticClass:"img",attrs:{src:t.firstAgentMessage.file,alt:"Imagem"}}):e("span",[t._v(t._s(t.firstAgentMessage.text))])]:t._e()],2)])])])]),e("div",{staticClass:"body-container-context"},[e("div",{staticClass:"container-name"},[e("div",{staticClass:"container-name-image"},[e("img",{staticClass:"container-name-image-property",attrs:{src:t.imageAvatarSmall}}),e("div",{staticClass:"container-name-property"},[t._v("Agostinho Carrara")])])]),t._l(t.chatMessages,(function(i){return e("div",{key:i.id,staticClass:"body-container-card"},[e("div",{staticClass:"body-container-card"},[e("div",{staticClass:"body-container-card-background"},[e("div",{staticClass:"container-card-text"},[e("div",{staticClass:"container-card-text-background"},[e("div",{class:"agent"===i.senderType?"container-card-text-background-color-agent":"container-card-text-background-color"},[e("div",{staticClass:"container-card-message"},[e("div",{class:"agent"===i.senderType?"container-card-message-property-agent":"container-card-message-property"},["image"===i.type?[e("img",{attrs:{src:i.file,alt:"Imagem"}})]:[t._v(" "+t._s(i.text)+" ")]],2)])]),e("div",{staticClass:"container-card-time"},[e("div",{staticClass:"container-card-time-property"},[t._v(t._s(t.formatDateTime(i.sendAt)))])])])])])])])})),e("div",{staticClass:"body-container-components"},[e("ui-modal",{ref:"modal"},[e("div",[e("div",{staticClass:"modal-content"},[e("h2",{staticClass:"modal-contet-title"},[t._v("Insira a URL da imagem")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.imgURLInput,expression:"imgURLInput"}],staticClass:"modal-content-input",attrs:{type:"text",placeholder:"URL da imagem"},domProps:{value:t.imgURLInput},on:{input:function(e){e.target.composing||(t.imgURLInput=e.target.value)}}}),e("button",{staticClass:"modal-content-button",on:{click:t.saveImageURL}},[t._v("Salvar")])])])]),e("ui-text-area",{attrs:{placeholder:"Escreva sua mensagem..."},model:{value:t.newMessageText,callback:function(e){t.newMessageText=e},expression:"newMessageText"}}),e("button",{staticClass:"text-area-container-property-button",on:{click:function(e){return t.openModal()}}},[e("img",{attrs:{src:t.imageVector}})]),e("div",{staticClass:"container-button"},[e("ui-button",{staticClass:"sucess",attrs:{disabled:""===t.newMessageText,label:"Enviar"},on:{click:t.reabrirChat}})],1)],1)],2)])},T=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"body-container-header-message"},[e("div",{staticClass:"body-container-header-message-text"},[t._v("Minhas mensagens")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"container-text-header"},[e("div",{staticClass:"conatiner-text-property"},[t._v("Agostinho Carrara")])])}],y=(i(1719),function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-area-container"},[e("textarea",{staticClass:"text-area-container-property",attrs:{placeholder:t.placeholder},domProps:{value:t.value},on:{input:t.updateValue}})])}),x=[],C=(i(8858),i(1318),i(3228),{name:"ui-text-area",props:{placeholder:{type:String,required:!1,default:""},value:{type:String,required:!1,default:""}},methods:{updateValue(t){this.$emit("input",t.target.value)},openImageInput(){this.$refs.imageInput.click()},uploadImage(t){this.addImg(t),this.$emit("input",t)},addImg(t,e){let i=this.$refs.imgUpload,a="";t&&(a=e?t:URL.createObjectURL(t.target.files[0])),i.src=a}}}),w=C,j=(0,r.Z)(w,y,x,!1,null,"d85e6ad4",null),U=j.exports,k=function(){var t=this,e=t._self._c;return t.isOpen?e("div",{staticClass:"modal"},[e("div",{staticClass:"modal-content"},[t._t("default")],2)]):t._e()},b=[],Y={name:"ui-modal",data(){return{isOpen:!1}},methods:{openModal(){this.isOpen=!0},closeModal(){this.isOpen=!1}}},D=Y,G=(0,r.Z)(D,k,b,!1,null,"9164a89c",null),L=G.exports,_=i(4161),E={name:"atendimento-view",components:{uiButton:I,uiTextArea:U,uiModal:L},data(){return{imageAvatar:i(6324),imageAvatarSmall:i(9262),chatMessages:[],newMessageText:"",imageFile:"",imageVector:i(4726),imgURLInput:"",imgURL:""}},computed:{firstAgentMessage(){return this.chatMessages.find((t=>"agent"===t.senderType))}},mounted(){this.getMessages()},methods:{formatDateTime(t){const e=new Date(t);return e.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})},async getMessages(){const t="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImUyMjA4ZGZhNjg5NTliODdmYmYzYTE1YTU2NzVjNzQ1ZDkzNzdhNjY2MTZhNTE3MWU3MGFmNzBiMGEzZGQxODc1MzUzZmVhMzNjOGNjODBjIn0.eyJhdWQiOiJBUFAtOWM5ZjgzYmMtNWY3My00OThmLTk3YzMtMzZkMTQ5MmQ4NGVmIiwianRpIjoiZTIyMDhkZmE2ODk1OWI4N2ZiZjNhMTVhNTY3NWM3NDVkOTM3N2E2NjYxNmE1MTcxZTcwYWY3MGIwYTNkZDE4NzUzNTNmZWEzM2M4Y2M4MGMiLCJpYXQiOjE2OTg1MDQwMDcsIm5iZiI6MTY5ODUwNDAwNywiZXhwIjoxNzE0MzE1MjA3LCJzdWIiOiIxMzQ0ODkiLCJzY29wZXMiOlsiaW5zdGFsbF9hcHAiLCJyZWFkX2FnZW50X3Byb2ZpbGUiXX0.USCxOcyd2x1mPLNXBLqKqzMKjX-kLTXFImQDrjhGume1grIKqDqtWLO8uFdUToGDx2FMdU3mGweIIcz_8WBwOgH9cB8jO1twxlINp9s5Ak_6sIiG10cA1pohxlIUf9X5CR1uI5CCh2R9oy1m2yU_VkVwFkxBM1e6XO-Xf1t_3mE",e={headers:{Authorization:`Bearer ${t}`}};await _.Z.get("https://api.huggy.app/v3/chats/192059548/messages",e).then((t=>{this.chatMessages=t.data})).catch((t=>{console.error("Erro na requisição GET:",t)}))},async enviarMensagem(){const t=192059548,e="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImUyMjA4ZGZhNjg5NTliODdmYmYzYTE1YTU2NzVjNzQ1ZDkzNzdhNjY2MTZhNTE3MWU3MGFmNzBiMGEzZGQxODc1MzUzZmVhMzNjOGNjODBjIn0.eyJhdWQiOiJBUFAtOWM5ZjgzYmMtNWY3My00OThmLTk3YzMtMzZkMTQ5MmQ4NGVmIiwianRpIjoiZTIyMDhkZmE2ODk1OWI4N2ZiZjNhMTVhNTY3NWM3NDVkOTM3N2E2NjYxNmE1MTcxZTcwYWY3MGIwYTNkZDE4NzUzNTNmZWEzM2M4Y2M4MGMiLCJpYXQiOjE2OTg1MDQwMDcsIm5iZiI6MTY5ODUwNDAwNywiZXhwIjoxNzE0MzE1MjA3LCJzdWIiOiIxMzQ0ODkiLCJzY29wZXMiOlsiaW5zdGFsbF9hcHAiLCJyZWFkX2FnZW50X3Byb2ZpbGUiXX0.USCxOcyd2x1mPLNXBLqKqzMKjX-kLTXFImQDrjhGume1grIKqDqtWLO8uFdUToGDx2FMdU3mGweIIcz_8WBwOgH9cB8jO1twxlINp9s5Ak_6sIiG10cA1pohxlIUf9X5CR1uI5CCh2R9oy1m2yU_VkVwFkxBM1e6XO-Xf1t_3mE",i={text:this.newMessageText,file:this.imgURL,isInternal:!1};try{const a=await _.Z.post(`https://api.huggy.app/v3/chats/${t}/messages`,i,{headers:{Authorization:`Bearer ${e}`}});this.chatMessages.unshift(a.data),this.newMessageText="",this.imgURL=""}catch(a){console.error("Erro ao enviar a mensagem:",a)}},async reabrirChat(){const t=192059548,e="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImUyMjA4ZGZhNjg5NTliODdmYmYzYTE1YTU2NzVjNzQ1ZDkzNzdhNjY2MTZhNTE3MWU3MGFmNzBiMGEzZGQxODc1MzUzZmVhMzNjOGNjODBjIn0.eyJhdWQiOiJBUFAtOWM5ZjgzYmMtNWY3My00OThmLTk3YzMtMzZkMTQ5MmQ4NGVmIiwianRpIjoiZTIyMDhkZmE2ODk1OWI4N2ZiZjNhMTVhNTY3NWM3NDVkOTM3N2E2NjYxNmE1MTcxZTcwYWY3MGIwYTNkZDE4NzUzNTNmZWEzM2M4Y2M4MGMiLCJpYXQiOjE2OTg1MDQwMDcsIm5iZiI6MTY5ODUwNDAwNywiZXhwIjoxNzE0MzE1MjA3LCJzdWIiOiIxMzQ0ODkiLCJzY29wZXMiOlsiaW5zdGFsbF9hcHAiLCJyZWFkX2FnZW50X3Byb2ZpbGUiXX0.USCxOcyd2x1mPLNXBLqKqzMKjX-kLTXFImQDrjhGume1grIKqDqtWLO8uFdUToGDx2FMdU3mGweIIcz_8WBwOgH9cB8jO1twxlINp9s5Ak_6sIiG10cA1pohxlIUf9X5CR1uI5CCh2R9oy1m2yU_VkVwFkxBM1e6XO-Xf1t_3mE";try{await _.Z.put(`https://api.huggy.app/v3/chats/${t}/reopen`,{},{headers:{Authorization:`Bearer ${e}`}});this.enviarMensagem()}catch(i){console.error("Erro ao reabrir o chat:",i)}},openModal(){this.$refs.modal.openModal()},saveImageURL(){this.imgURL=this.imgURLInput,this.showModal=!1,this.enviarMensagem(),this.imgURL="",this.$refs.modal.closeModal()}}},W=E,X=(0,r.Z)(W,Z,T,!1,null,"45048a3b",null),A=X.exports;a.ZP.use(m.ZP);const F=[{path:"/",name:"login",component:f},{path:"/atendimento",name:"atendimento",component:A}],J=new m.ZP({mode:"history",base:"/",routes:F});var Q=J,B=i(3822);a.ZP.use(B.ZP);var V=new B.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}});a.ZP.config.productionTip=!1,new a.ZP({router:Q,store:V,render:t=>t(l)}).$mount("#app")},4726:function(t,e,i){t.exports=i.p+"img/Vector.a0ec2a8a.svg"},6324:function(t,e,i){t.exports=i.p+"img/size=bigagostinho.36075152.svg"},9262:function(t,e,i){t.exports=i.p+"img/size=small.84eefe22.svg"}},e={};function i(a){var s=e[a];if(void 0!==s)return s.exports;var n=e[a]={exports:{}};return t[a].call(n.exports,n,n.exports,i),n.exports}i.m=t,function(){var t=[];i.O=function(e,a,s,n){if(!a){var r=1/0;for(m=0;m<t.length;m++){a=t[m][0],s=t[m][1],n=t[m][2];for(var o=!0,c=0;c<a.length;c++)(!1&n||r>=n)&&Object.keys(i.O).every((function(t){return i.O[t](a[c])}))?a.splice(c--,1):(o=!1,n<r&&(r=n));if(o){t.splice(m--,1);var l=s();void 0!==l&&(e=l)}}return e}n=n||0;for(var m=t.length;m>0&&t[m-1][2]>n;m--)t[m]=t[m-1];t[m]=[a,s,n]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var a in e)i.o(e,a)&&!i.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.p="/"}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,n,r=a[0],o=a[1],c=a[2],l=0;if(r.some((function(e){return 0!==t[e]}))){for(s in o)i.o(o,s)&&(i.m[s]=o[s]);if(c)var m=c(i)}for(e&&e(a);l<r.length;l++)n=r[l],i.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return i.O(m)},a=self["webpackChunkprojeto_huggy"]=self["webpackChunkprojeto_huggy"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=i.O(void 0,[998],(function(){return i(4514)}));a=i.O(a)})();
//# sourceMappingURL=app.00e657e4.js.map